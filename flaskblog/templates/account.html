{% extends 'layout.html' %}
	{% block body %}
	<div class="card p-3">
		<div class="d-flex flex-row">
			<div class="pb-3 pe-3">
				<img class="profile-pic" src="{{ image_file }}">
			</div>
			<div>
				<p class="fs-3 mb-0">
					{{ current_user.username }}
				</p>
				<small class="text-muted">
					{{ current_user.email }}
				</small>
			</div>
		</div>

		<form method="POST" action="" enctype="multipart/form-data">
			{{ form.hidden_tag() }}
			<fieldset>
				<legend>
					Update info
				</legend>
				<!-- username -->
				<div class="mb-2">
					{{ form.username.label(class="form-label") }}
					{% if form.username.errors %}
						{{ form.username(class="form-control is-invalid") }}
						<div class="invalid-feedback">
							{% for error in form.username.errors %}
								<span>{{ error }}</span>
							{% endfor %}
						</div>
					{% else %}
						{{ form.username(class="form-control") }}
					{% endif %}
				</div>
				<!-- email -->
				<div class="mb-2">
					{{ form.email.label(class="form-label") }}
					{% if form.email.errors %}
						{{ form.email(class="form-control is-invalid") }}
						<div class="invalid-feedback">
							{% for error in form.email.errors %}
								<span>{{ error }}</span>
							{% endfor %}
						</div>
					{% else %}
						{{ form.email(class="form-control") }}
					{% endif %}
				</div>
				<!-- picture -->
				<div class="mb-2">
					{{ form.picture.label }}
					{{ form.picture(class="form-control") }}
					{% if form.picture.errors %}
						{% for error in form.picture.errors %}
							<span class="text-danger">{{ error }}</span><br>
						{% endfor %}
					{% endif %}
				</div>
				<!-- submit button -->
				<div class="mt-3">
					{{ form.submit(class="btn btn-outline-primary") }}
				</div>
			</fieldset>
		</form>
	</div>
	{% endblock body %}